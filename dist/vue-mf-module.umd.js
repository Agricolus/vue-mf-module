(function(c,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(c=typeof globalThis<"u"?globalThis:c||self,u(c.VueMfModule={},c.Vue))})(this,function(c,u){"use strict";var oe=Object.defineProperty;var ae=(c,u,m)=>u in c?oe(c,u,{enumerable:!0,configurable:!0,writable:!0,value:m}):c[u]=m;var f=(c,u,m)=>(ae(c,typeof u!="symbol"?u+"":u,m),m);var m={exports:{}};function T(){}T.prototype={on:function(n,e,t){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:e,ctx:t}),this},once:function(n,e,t){var r=this;function i(){r.off(n,i),e.apply(t,arguments)}return i._=e,this.on(n,i,t)},emit:function(n){var e=[].slice.call(arguments,1),t=((this.e||(this.e={}))[n]||[]).slice(),r=0,i=t.length;for(r;r<i;r++)t[r].fn.apply(t[r].ctx,e);return this},off:function(n,e){var t=this.e||(this.e={}),r=t[n],i=[];if(r&&e)for(var s=0,l=r.length;s<l;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?t[n]=i:delete t[n],this}},m.exports=T;var F=m.exports.TinyEmitter=T,V=(n=>(n[n.drawer=0]="drawer",n[n.bottom=1]="bottom",n[n.header=2]="header",n))(V||{});const k={menuDefinitionAdded:"newmenuitem"},C=class{constructor(){f(this,"menuDefinitions",[]);f(this,"menuStructure",{});f(this,"notifications",new F)}get Notifications(){return this.notifications}static get Instance(){return C.instance}addMenuDefinition(e,...t){let r=this.menuDefinitions.find(i=>i.name==e.name);r?e=r:this.menuDefinitions.push(e);for(const i of t)this.menuStructure[i.section]=this.menuStructure[i.section]||{},this.menuStructure[i.section][i.parent||e.name]=this.menuStructure[i.section][i.parent||e.name]||[],i.parent&&this.menuStructure[i.section][i.parent].push(e.name);this.notifications.emit(k.menuDefinitionAdded,e)}getMenuItem(e){return this.menuDefinitions.find(t=>t.name==e)}getMenu(e){let t=[],r=new Set;for(const i in this.menuStructure[e]){const s=this.menuStructure[e][i];let l={item:this.menuDefinitions.find(a=>a.name==i&&(!a.hidden||!a.hidden())),children:s.map(a=>this.menuDefinitions.find(o=>o.name==a&&(!o.hidden||!o.hidden()))).filter(a=>!!a).sort((a,o)=>a&&o&&a.orderIndex&&o.orderIndex&&a.orderIndex>o.orderIndex?1:a&&o&&a.orderIndex&&o.orderIndex&&a.orderIndex<o.orderIndex?-1:0)};l.item&&(r.add(i),s.forEach(a=>r.add(a)),t.push(l))}return t.filter(i=>!!i.item).sort((i,s)=>i&&s&&i.item&&s.item&&i.item.orderIndex&&s.item.orderIndex&&i.item.orderIndex>s.item.orderIndex?1:i&&s&&i.item&&s.item&&i.item.orderIndex&&s.item.orderIndex&&i.item.orderIndex<s.item.orderIndex?-1:0)}};let p=C;f(p,"instance",new C);const E=class{constructor(){f(this,"registry",new Map);f(this,"groupedregistry",new Map);f(this,"serviceregistry",new Map);f(this,"groupedserviceregistry",new Map)}static get Instance(){return this.instance}static set Instance(e){this.instance=e}provideComponent(e,t,r){if(this.registry.set(r?`${r}-${t}`:t,e),r){this.groupedregistry.has(r)||this.groupedregistry.set(r,new Map);let i=this.groupedregistry.get(r);i&&i.set(t,e)}}getComponent(e,t){return this.registry.get(t?`${t}-${e}`:e)||null}getComponents(...e){return Array.from(this.registry.entries()).filter(t=>e.indexOf(t[0])>=0).map(t=>t[1])}getGroupComponents(e,...t){let r=this.groupedregistry.get(e);return r?Array.from(r.entries()||[]).filter(i=>!t||t.length==0||t.indexOf(i[0])>=0).map(i=>i[1]):[]}getGroupComponentsKeys(e){let t=this.groupedregistry.get(e);return t?Array.from(t.keys()):[]}provideService(e,t,r){if(this.serviceregistry.set(e,t),r){this.groupedserviceregistry.has(r)||this.groupedserviceregistry.set(r,new Map);let i=this.groupedserviceregistry.get(r);i&&i.set(e,t)}}getService(e){return this.serviceregistry.get(e)||null}getGroupServices(e,...t){let r=this.groupedserviceregistry.get(e);return r?Array.from(r.entries()||[]).filter(i=>!t||t.length==0||t.indexOf(i[0])>=0).map(i=>i[1]):[]}};let g=E;f(g,"instance",new E);const _=new Map,I=new Map,M=new Map,G=(n,...e)=>new Promise((t,r)=>{var o;const i=setTimeout(()=>{r("timeout for message "+n)},3e4);let s=(o=_.get(n))==null?void 0:o.port1;if(!s){const d=new MessageChannel;_.set(n,d),s=d.port1}let l=new MessageChannel;const a=d=>{clearTimeout(i),t(d.data),l=null};l.port1.onmessage=a,s.postMessage(e,[l.port2])}),z=(n,e,t={force:!1})=>{var s;if(typeof e!="function")throw"reply callback for message "+n+" is not a function";let r=(s=_.get(n))==null?void 0:s.port2;if(!r){const l=new MessageChannel;_.set(n,l),r=l.port2}if(!t.force&&r.onmessage)throw"reply already set for message "+n;const i=async l=>{const a=l.ports[0],o=await e(...l.data);a.postMessage(o),a.close()};return r.onmessage=i,()=>{r.onmessage=null}},X=(n,...e)=>{var r;let t=(r=I.get(n))==null?void 0:r.port1;if(!t){const i=new MessageChannel;I.set(n,i),t=i.port1}t.postMessage(e)},P=(n,e)=>{var i;if(typeof e!="function")throw"reply callback for message "+n+" is not a function";let t=(i=I.get(n))==null?void 0:i.port2;if(!t){const s=new MessageChannel;I.set(n,s),t=s.port2}const r=s=>{e(...s.data)};return M.set(e,r),t.addEventListener("message",r),t.start(),()=>{t==null||t.removeEventListener("message",r),M.delete(e)}},j={Instance:{ask:G,reply:z,send:X,subscribe:P,once:(n,e)=>{if(typeof e!="function")throw"reply callback for message "+n+" is not a function";const t=P(n,(...r)=>{e(...r),t()})},unsubscribe:(n,e)=>{var i;let t=(i=I.get(n))==null?void 0:i.port2;if(!t)return;const r=M.get(e);r&&(t.removeEventListener("message",r),M.delete(e))}}},B=u.defineComponent({name:"inject",props:{id:{default:null},type:{default:null,type:String},value:{default:null},name:{type:String,default:null},names:{type:Array,default:null},group:{type:String,default:null},metadata:{type:Object,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},setup(n,{emit:e}){const t=u.computed({get:()=>n.value,set:l=>{e("input",l)}}),r=u.computed(()=>n.name?[g.Instance.getComponent(n.name,n.group)]:n.group?g.Instance.getGroupComponents(n.group,...n.names||[]):g.Instance.getComponents(...n.names||[])),i=(...l)=>{e("click",...l)},s=(...l)=>{e("save",...l)};return{id:n.id,type:n.type,value:n.value,name:n.name,names:n.names,group:n.group,metadata:n.metadata,disabled:n.disabled,readonly:n.readonly,click:i,save:s,Components:r,Value:t}}});function x(n,e,t,r,i,s,l,a){var o=typeof n=="function"?n.options:n;e&&(o.render=e,o.staticRenderFns=t,o._compiled=!0),r&&(o.functional=!0),s&&(o._scopeId="data-v-"+s);var d;if(l?(d=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),i&&i.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(l)},o._ssrRegister=d):i&&(d=a?function(){i.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:i),d)if(o.functional){o._injectStyles=d;var A=o.render;o.render=function(se,U){return d.call(U),A(se,U)}}else{var L=o.beforeCreate;o.beforeCreate=L?[].concat(L,d):[d]}return{exports:n,options:o}}var K=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",e._l(e.Components,function(r,i){return t(r,{key:i,tag:"component",attrs:{disabled:e.disabled,readonly:e.readonly,id:e.id,type:e.type,metadata:e.metadata},on:{click:e.click,save:e.save},model:{value:e.Value,callback:function(s){e.Value=s},expression:"Value"}})}),1)},W=[],q=x(B,K,W,!1,null,null,null,null);const $=q.exports,S=class{constructor(){f(this,"screens",new Map);f(this,"projecting",new Map)}static get Instance(){return S.instance}static set Instance(e){this.instance=e}setScreen(e,t="defaultscreen"){this.screens.set(t,e)}projectTo(e,t=null,r="defaultscreen",i=!0,s=!1){const l={data:t},a=s?new Promise((d,A)=>{l.reject=A,l.resolve=d}):null;i?(this.projecting.has(r)||this.projecting.set(r,[]),(this.projecting.get(r)||[]).push({component:e,model:l,promise:a,queue:i})):this.projecting.set(r,[{component:e,model:l,promise:a,queue:i}]);const o=this.screens.get(r);return o?(o.model=l,o.currentView=e,a&&a.then(()=>this.stopProjecting(r)).catch(()=>this.stopProjecting(r)),a):null}projectAsyncTo(e,t,r="defaultscreen",i=!0){return this.projectTo(e,t,r,i,!0)}stopProjecting(e="defaultscreen"){this.projecting.has(e)&&(this.projecting.get(e)||[]).pop();let t=this.screens.get(e);if(t&&t.currentView){if(t.model=null,t.screenModel=null,t.currentView=null,this.projecting.has(e)){let r=this.projecting.get(e);if(r&&r.length){let i=r.pop();i&&this.projectTo(i.component,i.model,e,i.queue,!!i.promise)}}return!0}return!1}};let v=S;f(v,"instance",new S);const H=u.defineComponent({name:"screen",props:{name:{type:String,default:"defaultscreen"}},setup(n,{expose:e}){const t=u.getCurrentInstance(),r=u.ref(null),i=u.ref(null);e({currentView:r,model:i});const s=u.computed(()=>r.value!=null),l=u.computed(()=>{var a;return(a=r.value)==null?void 0:a.__file});return u.onMounted(()=>{v.Instance.setScreen(t.proxy,n.name)}),{currentViewUID:l,currentView:r,model:i,isVisible:s}}});var J=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}]},[e.currentView?t(e.currentView,{key:e.currentViewUID,tag:"component",attrs:{value:e.model}}):e._e()],1)},Q=[],Y=x(H,J,Q,!1,null,null,null,null);const D=Y.exports,N={projectToDirective:{inserted:(n,e)=>{y.Instance.injectTo(n,e.arg)},unbind:(n,e)=>{y.Instance.removeFrom(n,e.arg)}},screenDirective:{bind:(n,e)=>{!n||y.Instance.setScreen(n,e.arg)}}},b=class{constructor(){f(this,"screens",new Map)}static get Instance(){return b.instance}static set Instance(e){this.instance=e}injectTo(e,t){if(!(!e||!t)){var r=this.screens.has(t)?this.screens.get(t):null;try{e.parentElement&&e.removeChild(e)}catch{}r&&r.append(e)}}removeFrom(e,t){if(!(!e||!t)){var r=this.screens.has(t)?this.screens.get(t):null;try{r&&r.removeChild(e)}catch{}}}setScreen(e,t="defaultscreen"){this.screens.set(t,e)}};let y=b;f(y,"instance",new b);function w(n,e){if(n.target.validity){let t=n.target;if(t.validity){let r=[t.validity.badInput?"bad input":null,t.validity.customError?"custom error":null,t.validity.patternMismatch?"pattern mismatch":null,t.validity.rangeOverflow?"range overflow":null,t.validity.rangeUnderflow?"range underflow":null,t.validity.stepMismatch?"step mismatch":null,t.validity.tooLong?"too long":null,t.validity.tooShort?"too short":null,t.validity.typeMismatch?"type mismatch":null,t.validity.valueMissing?"value missing":null].filter(i=>!!i);e(r,t.validity.valid!=null?t.validity.valid:!0)}}}const R={inserted:(n,e)=>{if(!(!n||!n.willValidate)){switch(n.nodeName){case"INPUT":case"TEXTAREA":n.onblur=t=>w(t,e.value);break;case"SELECT":n.onchange=t=>w(t,e.value);break}n.oninvalid=t=>w(t,e.value),n.form&&n.form.addEventListener("invalid",()=>w({target:n},e.value)),e.arg=="immediate"?n.reportValidity():w({target:n},e.value)}},unbind:n=>{}};function Z(n){n.component("screen",D),n.component("inject",$),n.directive("screen",N.screenDirective),n.directive("projectTo",N.projectToDirective),n.directive("validate",R)}function ee(n){let e={};return{init(t,r,i,s){return s.registry&&(g.Instance=s.registry),s.messageService&&(j.Instance=s.messageService),s.projector&&(v.Instance=s.projector),s.screens&&(y.Instance=s.screens),e=i,n.init(O,t,r,i)},config(t,r){return n.config?n.config(t,r,e):null},run(t,r){return n.run?n.run(t,r,e):null},routes:n.routes}}function te(n,e,t){const r=n.default.default||n.default;return r.init(p.Instance,e,t||{},{registry:g.Instance,messageService:j.Instance,projector:v.Instance,screens:y.Instance}).then(()=>r)}function ne(n,e){return(n.default.default||n.default).config(p.Instance,e)}function re(n,e){return(n.default.default||n.default).run(p.Instance,e)}function ie(n){return(n.default.default||n.default).routes}const O={install:Z,MenuHelper:new p,menuType:V,CommonRegistry:new g,MessageService:j,Inject:$,Screen:D,ValidateDirective:R,MenuNotifications:k,Projector:v};c.CommonRegistry=g,c.ConfigModule=ne,c.InitModule=te,c.Inject=$,c.MenuHelper=p,c.MenuNotifications=k,c.MessageService=j,c.ModuleInitializer=ee,c.ModuleRoutes=ie,c.Projector=v,c.RunModule=re,c.Screen=D,c.ValidateDirective=R,c.default=O,c.menuType=V,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnVlLW1mLW1vZHVsZS51bWQuanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy90aW55LWVtaXR0ZXIvaW5kZXguanMiLCIuLi9zcmMvaGVscGVycy9NZW51SGVscGVyLnRzIiwiLi4vc3JjL2hlbHBlcnMvQ29tbW9uUmVnaXN0cnkudHMiLCIuLi9zcmMvaGVscGVycy9NZXNzYWdlU2VydmljZS50cyIsIi4uL3NyYy9jb21wb25lbnRzL2luamVjdC50cz92dWUmdHlwZT1zY3JpcHQmc3JjPXRydWUmbGFuZy50cyIsIi4uL3NyYy9oZWxwZXJzL1Byb2plY3Rvci50cyIsIi4uL3NyYy9jb21wb25lbnRzL3NjcmVlbi52dWU/dnVlJnR5cGU9c2NyaXB0JmxhbmcudHMiLCIuLi9zcmMvZGlyZWN0aXZlcy9zY3JlZW4udHMiLCIuLi9zcmMvZGlyZWN0aXZlcy92YWxpZGF0ZS50cyIsIi4uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBFICgpIHtcbiAgLy8gS2VlcCB0aGlzIGVtcHR5IHNvIGl0J3MgZWFzaWVyIHRvIGluaGVyaXQgZnJvbVxuICAvLyAodmlhIGh0dHBzOi8vZ2l0aHViLmNvbS9saXBzbWFjayBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvaXNzdWVzLzMpXG59XG5cbkUucHJvdG90eXBlID0ge1xuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgZSA9IHRoaXMuZSB8fCAodGhpcy5lID0ge30pO1xuXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xuICAgICAgZm46IGNhbGxiYWNrLFxuICAgICAgY3R4OiBjdHhcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyICgpIHtcbiAgICAgIHNlbGYub2ZmKG5hbWUsIGxpc3RlbmVyKTtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXG4gICAgcmV0dXJuIHRoaXMub24obmFtZSwgbGlzdGVuZXIsIGN0eCk7XG4gIH0sXG5cbiAgZW1pdDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZGF0YSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBldnRBcnIubGVuZ3RoO1xuXG4gICAgZm9yIChpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGV2dEFycltpXS5mbi5hcHBseShldnRBcnJbaV0uY3R4LCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG4gICAgdmFyIGV2dHMgPSBlW25hbWVdO1xuICAgIHZhciBsaXZlRXZlbnRzID0gW107XG5cbiAgICBpZiAoZXZ0cyAmJiBjYWxsYmFjaykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2dHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXG4gICAgICAgICAgbGl2ZUV2ZW50cy5wdXNoKGV2dHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBldmVudCBmcm9tIHF1ZXVlIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcbiAgICAvLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGNvcmdhbi90aW55LWVtaXR0ZXIvY29tbWl0L2M2ZWJmYWE5YmM5NzNiMzNkMTEwYTg0YTMwNzc0MmI3Y2Y5NGM5NTMjY29tbWl0Y29tbWVudC01MDI0OTEwXG5cbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXG4gICAgICA/IGVbbmFtZV0gPSBsaXZlRXZlbnRzXG4gICAgICA6IGRlbGV0ZSBlW25hbWVdO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRTtcbm1vZHVsZS5leHBvcnRzLlRpbnlFbWl0dGVyID0gRTtcbiIsImltcG9ydCB7IFRpbnlFbWl0dGVyIH0gZnJvbSAndGlueS1lbWl0dGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBJTWVudURlZmluaXRpb24ge1xuICBuYW1lOiBzdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGljb24/OiBzdHJpbmcsXG4gIHJvdXRlTmFtZT86IHN0cmluZyxcbiAgcm91dGVQYXJhbXM/OiBvYmplY3QsXG4gIGZlYXR1cmVmbGFncz86IHN0cmluZ1tdLFxuICBvcmRlckluZGV4PzogbnVtYmVyLFxuICBjbGFzcz86IHN0cmluZyxcbiAgaGlkZGVuOiAoKSA9PiBib29sZWFuXG59XG5cblxuZXhwb3J0IGVudW0gbWVudVR5cGUge1xuICBkcmF3ZXIsICAgICAgIC8vIERyYXdlciBNZW51XG4gIGJvdHRvbSwgICAgICAgLy8gQm90dG9tIE1lbnVcbiAgaGVhZGVyXG59XG5cbmV4cG9ydCBjb25zdCBNZW51Tm90aWZpY2F0aW9ucyA9IHtcbiAgbWVudURlZmluaXRpb25BZGRlZDogJ25ld21lbnVpdGVtJ1xufVxuXG5leHBvcnQgY2xhc3MgTWVudUhlbHBlciB7XG5cbiAgcHJpdmF0ZSBtZW51RGVmaW5pdGlvbnM6IElNZW51RGVmaW5pdGlvbltdID0gW107XG4gIHByaXZhdGUgbWVudVN0cnVjdHVyZTogeyBba2V5OiBzdHJpbmddOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZ1tdIH0gfSA9IHt9XG4gIHByaXZhdGUgbm90aWZpY2F0aW9uczogVGlueUVtaXR0ZXIgPSBuZXcgVGlueUVtaXR0ZXIoKTtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2UgPSBuZXcgTWVudUhlbHBlcigpO1xuICBwdWJsaWMgZ2V0IE5vdGlmaWNhdGlvbnMoKSB7IHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbnM7IH1cbiAgcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7IHJldHVybiBNZW51SGVscGVyLmluc3RhbmNlIH1cblxuICBwdWJsaWMgYWRkTWVudURlZmluaXRpb24obWVudURlZmluaXRpb246IElNZW51RGVmaW5pdGlvbiwgLi4ucG9zaXRpb25zOiB7IHNlY3Rpb246IG1lbnVUeXBlLCBwYXJlbnQ/OiBzdHJpbmcgfVtdKSB7XG5cbiAgICAvLyBBZ2dpdW5nbyBsYSBkaWNoaWFyYXppb25lIGRlbCBtZW51w7kgYWxsJ2VsZW5jbyBkZWkgbWVuw7kgZGlzcG9uaWJpbGkuXG4gICAgbGV0IGZvdW5kID0gdGhpcy5tZW51RGVmaW5pdGlvbnMuZmluZChtID0+IG0ubmFtZSA9PSBtZW51RGVmaW5pdGlvbi5uYW1lKTtcbiAgICBpZiAoIWZvdW5kKVxuICAgICAgdGhpcy5tZW51RGVmaW5pdGlvbnMucHVzaChtZW51RGVmaW5pdGlvbik7XG4gICAgZWxzZVxuICAgICAgbWVudURlZmluaXRpb24gPSBmb3VuZDtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBwb3NpdGlvbnMpIHtcblxuICAgICAgdGhpcy5tZW51U3RydWN0dXJlW2VsZW1lbnQuc2VjdGlvbl0gPSB0aGlzLm1lbnVTdHJ1Y3R1cmVbZWxlbWVudC5zZWN0aW9uXSB8fCB7fTtcbiAgICAgIHRoaXMubWVudVN0cnVjdHVyZVtlbGVtZW50LnNlY3Rpb25dW2VsZW1lbnQucGFyZW50IHx8IG1lbnVEZWZpbml0aW9uLm5hbWVdID0gdGhpcy5tZW51U3RydWN0dXJlW2VsZW1lbnQuc2VjdGlvbl1bZWxlbWVudC5wYXJlbnQgfHwgbWVudURlZmluaXRpb24ubmFtZV0gfHwgW107XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudClcbiAgICAgICAgdGhpcy5tZW51U3RydWN0dXJlW2VsZW1lbnQuc2VjdGlvbl1bZWxlbWVudC5wYXJlbnRdLnB1c2gobWVudURlZmluaXRpb24ubmFtZSk7XG4gICAgfVxuXG4gICAgdGhpcy5ub3RpZmljYXRpb25zLmVtaXQoTWVudU5vdGlmaWNhdGlvbnMubWVudURlZmluaXRpb25BZGRlZCwgbWVudURlZmluaXRpb24pO1xuICB9XG5cbiAgcHVibGljIGdldE1lbnVJdGVtKG5hbWU6IHN0cmluZyk6IElNZW51RGVmaW5pdGlvbiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubWVudURlZmluaXRpb25zLmZpbmQoaSA9PiBpLm5hbWUgPT0gbmFtZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWVudShtZW51OiBtZW51VHlwZSk6IHsgaXRlbTogSU1lbnVEZWZpbml0aW9uIHwgdW5kZWZpbmVkLCBjaGlsZHJlbjogKElNZW51RGVmaW5pdGlvbiB8IHVuZGVmaW5lZClbXSB9W10ge1xuICAgIGxldCByZXN1bHQ6IHsgaXRlbTogSU1lbnVEZWZpbml0aW9uIHwgdW5kZWZpbmVkLCBjaGlsZHJlbjogKElNZW51RGVmaW5pdGlvbiB8IHVuZGVmaW5lZClbXSB9W10gPSBbXTtcbiAgICBsZXQgdXNlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5tZW51U3RydWN0dXJlW21lbnVdKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5tZW51U3RydWN0dXJlW21lbnVdW2tleV07XG5cblxuICAgICAgbGV0IHJyID0ge1xuICAgICAgICBpdGVtOiB0aGlzLm1lbnVEZWZpbml0aW9ucy5maW5kKG0gPT4ge1xuICAgICAgICAgIHJldHVybiBtLm5hbWUgPT0ga2V5ICYmXG4gICAgICAgICAgICAoIW0uaGlkZGVuIHx8ICFtLmhpZGRlbigpKVxuICAgICAgICB9KSxcblxuICAgICAgICBjaGlsZHJlbjogZWxlbWVudC5tYXAoaSA9PiB0aGlzLm1lbnVEZWZpbml0aW9ucy5maW5kKG0gPT4gbS5uYW1lID09IGkgJiYgKCFtLmhpZGRlbiB8fCAhbS5oaWRkZW4oKSkpKVxuICAgICAgICAgIC5maWx0ZXIoaSA9PiAhIWkpXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhICYmIGIgJiYgYS5vcmRlckluZGV4ICYmIGIub3JkZXJJbmRleCAmJiBhLm9yZGVySW5kZXggPiBiLm9yZGVySW5kZXgpIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGEgJiYgYiAmJiBhLm9yZGVySW5kZXggJiYgYi5vcmRlckluZGV4ICYmIGEub3JkZXJJbmRleCA8IGIub3JkZXJJbmRleCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgICB9KVxuICAgICAgfTtcblxuICAgICAgaWYgKCEhcnIuaXRlbSkge1xuICAgICAgICB1c2VkLmFkZChrZXkpO1xuICAgICAgICBlbGVtZW50LmZvckVhY2goaSA9PiB1c2VkLmFkZChpKSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5maWx0ZXIoaSA9PiAhIWkuaXRlbSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChhICYmIGIgJiYgYS5pdGVtICYmIGIuaXRlbSAmJiBhLml0ZW0ub3JkZXJJbmRleCAmJiBiLml0ZW0ub3JkZXJJbmRleCAmJiBhLml0ZW0ub3JkZXJJbmRleCA+IGIuaXRlbS5vcmRlckluZGV4KSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgJiYgYiAmJiBhLml0ZW0gJiYgYi5pdGVtICYmIGEuaXRlbS5vcmRlckluZGV4ICYmIGIuaXRlbS5vcmRlckluZGV4ICYmIGEuaXRlbS5vcmRlckluZGV4IDwgYi5pdGVtLm9yZGVySW5kZXgpIHJldHVybiAtMTtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH0pO1xuICB9XG59XG5cbiIsIlxuZXhwb3J0IGNsYXNzIENvbW1vblJlZ2lzdHJ5IHtcblxuICBwcml2YXRlIHJlZ2lzdHJ5ID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgcHJpdmF0ZSBncm91cGVkcmVnaXN0cnkgPSBuZXcgTWFwPHN0cmluZywgTWFwPHN0cmluZywgYW55Pj4oKTtcbiAgcHJpdmF0ZSBzZXJ2aWNlcmVnaXN0cnkgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICBwcml2YXRlIGdyb3VwZWRzZXJ2aWNlcmVnaXN0cnkgPSBuZXcgTWFwPHN0cmluZywgTWFwPHN0cmluZywgYW55Pj4oKTtcblxuXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBDb21tb25SZWdpc3RyeSA9IG5ldyBDb21tb25SZWdpc3RyeSgpO1xuICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkgeyByZXR1cm4gdGhpcy5pbnN0YW5jZTsgfVxuICBzdGF0aWMgc2V0IEluc3RhbmNlKHY6IENvbW1vblJlZ2lzdHJ5KSB7IHRoaXMuaW5zdGFuY2UgPSB2IH07XG5cbiAgcHJvdmlkZUNvbXBvbmVudChjb21wb25lbnQ6IGFueSwgbmFtZTogc3RyaW5nLCBncm91cD86IHN0cmluZykge1xuICAgIHRoaXMucmVnaXN0cnkuc2V0KGdyb3VwID8gYCR7Z3JvdXB9LSR7bmFtZX1gIDogbmFtZSwgY29tcG9uZW50KTtcbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIGlmICghdGhpcy5ncm91cGVkcmVnaXN0cnkuaGFzKGdyb3VwKSkgdGhpcy5ncm91cGVkcmVnaXN0cnkuc2V0KGdyb3VwLCBuZXcgTWFwPHN0cmluZywgYW55PigpKTtcblxuICAgICAgbGV0IGdnID0gdGhpcy5ncm91cGVkcmVnaXN0cnkuZ2V0KGdyb3VwKTtcbiAgICAgIGlmIChnZykgZ2cuc2V0KG5hbWUsIGNvbXBvbmVudCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KG5hbWU6IHN0cmluZywgZ3JvdXA/OiBzdHJpbmcpOiBhbnkgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5nZXQoZ3JvdXAgPyBgJHtncm91cH0tJHtuYW1lfWAgOiBuYW1lKSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0Q29tcG9uZW50cyguLi5uYW1lOiBzdHJpbmdbXSk6IChhbnkpW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucmVnaXN0cnkuZW50cmllcygpKS5maWx0ZXIoaSA9PiBuYW1lLmluZGV4T2YoaVswXSkgPj0gMCkubWFwKGkgPT4gaVsxXSk7XG4gIH1cblxuICBnZXRHcm91cENvbXBvbmVudHMoZ3JvdXA6IHN0cmluZywgLi4ubmFtZTogc3RyaW5nW10pOiAoYW55KVtdIHtcbiAgICBsZXQgZyA9IHRoaXMuZ3JvdXBlZHJlZ2lzdHJ5LmdldChncm91cCk7XG4gICAgaWYgKGcpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShnLmVudHJpZXMoKSB8fCBbXSkuZmlsdGVyKGkgPT4gKCFuYW1lIHx8IG5hbWUubGVuZ3RoID09IDApIHx8IG5hbWUuaW5kZXhPZihpWzBdKSA+PSAwKS5tYXAoaSA9PiBpWzFdKTtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGdldEdyb3VwQ29tcG9uZW50c0tleXMoZ3JvdXA6IHN0cmluZyk6IChzdHJpbmcpW10ge1xuICAgIGxldCBnID0gdGhpcy5ncm91cGVkcmVnaXN0cnkuZ2V0KGdyb3VwKTtcbiAgICBpZiAoZykgcmV0dXJuIEFycmF5LmZyb20oZy5rZXlzKCkpO1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgcHJvdmlkZVNlcnZpY2UobmFtZTogc3RyaW5nLCBzZXJ2aWNlOiBhbnksIGdyb3VwPzogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXJ2aWNlcmVnaXN0cnkuc2V0KG5hbWUsIHNlcnZpY2UpO1xuICAgIGlmIChncm91cCkge1xuICAgICAgaWYgKCF0aGlzLmdyb3VwZWRzZXJ2aWNlcmVnaXN0cnkuaGFzKGdyb3VwKSkgdGhpcy5ncm91cGVkc2VydmljZXJlZ2lzdHJ5LnNldChncm91cCwgbmV3IE1hcDxzdHJpbmcsIGFueT4oKSk7XG4gICAgICBsZXQgZ2cgPSB0aGlzLmdyb3VwZWRzZXJ2aWNlcmVnaXN0cnkuZ2V0KGdyb3VwKTtcbiAgICAgIGlmIChnZykgZ2cuc2V0KG5hbWUsIHNlcnZpY2UpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNlcnZpY2U8VD4obmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuICh0aGlzLnNlcnZpY2VyZWdpc3RyeS5nZXQobmFtZSkgfHwgbnVsbCkgYXMgVDtcbiAgfVxuXG4gIGdldEdyb3VwU2VydmljZXMoZ3JvdXA6IHN0cmluZywgLi4ubmFtZTogc3RyaW5nW10pOiAoYW55KVtdIHtcbiAgICBsZXQgZyA9IHRoaXMuZ3JvdXBlZHNlcnZpY2VyZWdpc3RyeS5nZXQoZ3JvdXApO1xuICAgIGlmIChnKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZy5lbnRyaWVzKCkgfHwgW10pLmZpbHRlcihpID0+ICghbmFtZSB8fCBuYW1lLmxlbmd0aCA9PSAwKSB8fCBuYW1lLmluZGV4T2YoaVswXSkgPj0gMCkubWFwKGkgPT4gaVsxXSk7XG4gICAgcmV0dXJuIFtdXG4gIH1cbn0iLCJkZWNsYXJlIG5hbWVzcGFjZSBNZXNzYWdlU2VydmljZSB7XG4gIHR5cGUgQW55RnVuY3Rpb24gPSAoLi4uYXJnczogYW55KSA9PiBhbnlcbiAgdHlwZSBFeHRyYWN0TWVzc2FnZUtleTxULCBrPiA9IFtUXSBleHRlbmRzIFtuZXZlcl0gPyBzdHJpbmcgOiBrIGV4dGVuZHMga2V5b2YgVCA/IGsgJiBzdHJpbmcgOiBuZXZlcjtcblxuICB0eXBlIEFza0Z1bmN0aW9uUGFyYW1ldGVyczxULCBrPiA9IFtUXSBleHRlbmRzIFtuZXZlcl0gPyBbLi4uYW55W11dIDpcbiAgICAoayBleHRlbmRzIGtleW9mIFQgP1xuICAgICAgKFRba10gZXh0ZW5kcyBBbnlGdW5jdGlvbiA/IFBhcmFtZXRlcnM8VFtrXT4gOiBuZXZlcikgOlxuICAgICAgWy4uLnVua25vd25bXV0pO1xuXG4gIHR5cGUgQXNrRnVuY3Rpb25SZXR1cm5UeXBlPFQsIGs+ID0gW1RdIGV4dGVuZHMgW25ldmVyXSA/IFByb21pc2U8YW55PiA6XG4gICAgKGsgZXh0ZW5kcyBrZXlvZiBUID9cbiAgICAgIChUW2tdIGV4dGVuZHMgKCguLi5hcmdzOiBhbnkpID0+IGluZmVyIFUpID8gUHJvbWlzZTxBd2FpdGVkPFU+PiA6IG5ldmVyKSA6XG4gICAgICBuZXZlcik7XG5cbiAgdHlwZSBSZXBseUZ1bmN0aW9uQ2JSZXR1cm5UeXBlPFQsIGs+ID0gW1RdIGV4dGVuZHMgW25ldmVyXSA/IGFueSA6XG4gICAgKGsgZXh0ZW5kcyBrZXlvZiBUID9cbiAgICAgIChUW2tdIGV4dGVuZHMgKCguLi5hcmdzOiBhbnkpID0+IGluZmVyIFUpID8gVSA6IG5ldmVyKSA6XG4gICAgICBuZXZlcik7XG5cbiAgdHlwZSBSZXBseUZ1bmN0aW9uQ2I8VCwgaz4gPSAoLi4uYXJnczogWy4uLkFza0Z1bmN0aW9uUGFyYW1ldGVyczxULCBrPl0pID0+IFJlcGx5RnVuY3Rpb25DYlJldHVyblR5cGU8VCwgaz5cblxuICB0eXBlIFNlbmRGdW5jdGlvblBhcmFtZXRlcnM8VCwgaz4gPSBbVF0gZXh0ZW5kcyBbbmV2ZXJdID8gWy4uLmFueVtdXSA6XG4gICAgKGsgZXh0ZW5kcyBrZXlvZiBUID8gVFtrXSBleHRlbmRzIEFycmF5PGFueT4gPyBUW2tdIDogW1Rba11dIDogbmV2ZXIpO1xuXG5cbiAgdHlwZSBBc2tGdW5jdGlvbiA9IDxUID0gbmV2ZXIsIGsgPSBrZXlvZiBUICYgc3RyaW5nPihuYW1lOiBFeHRyYWN0TWVzc2FnZUtleTxULCBrPiwgLi4uYXJnczogQXNrRnVuY3Rpb25QYXJhbWV0ZXJzPFQsIGs+KSA9PiBBc2tGdW5jdGlvblJldHVyblR5cGU8VCwgaz47XG4gIHR5cGUgUmVwbHlGdW5jdGlvbiA9IDxUID0gbmV2ZXIsIGsgPSBrZXlvZiBUICYgc3RyaW5nPihuYW1lOiBFeHRyYWN0TWVzc2FnZUtleTxULCBrPiwgY2I6IFJlcGx5RnVuY3Rpb25DYjxULCBrPiwgb3B0cz86IHsgZm9yY2U6IGJvb2xlYW4gfSkgPT4gKCkgPT4gdm9pZDtcbiAgdHlwZSBTZW5kRnVuY3Rpb24gPSA8VCA9IG5ldmVyLCBrID0ga2V5b2YgVCAmIHN0cmluZz4obmFtZTogRXh0cmFjdE1lc3NhZ2VLZXk8VCwgaz4sIC4uLmFyZ3M6IFNlbmRGdW5jdGlvblBhcmFtZXRlcnM8VCwgaz4pID0+IHZvaWQ7XG4gIHR5cGUgU3Vic2NyaWJlRnVuY3Rpb24gPSA8VCA9IG5ldmVyLCBrID0ga2V5b2YgVCAmIHN0cmluZz4obmFtZTogRXh0cmFjdE1lc3NhZ2VLZXk8VCwgaz4sIGNiOiAoLi4uYXJnczogU2VuZEZ1bmN0aW9uUGFyYW1ldGVyczxULCBrPikgPT4gdm9pZCkgPT4gKCkgPT4gdm9pZDtcbiAgdHlwZSBPbmNlRnVuY3Rpb24gPSA8VCA9IG5ldmVyLCBrID0ga2V5b2YgVCAmIHN0cmluZz4obmFtZTogRXh0cmFjdE1lc3NhZ2VLZXk8VCwgaz4sIGNiOiAoLi4uYXJnczogU2VuZEZ1bmN0aW9uUGFyYW1ldGVyczxULCBrPikgPT4gdm9pZCkgPT4gdm9pZDtcbiAgdHlwZSBVbnN1YnNyaWJlRnVuY3Rpb24gPSA8VCA9IG5ldmVyLCBrID0ga2V5b2YgVCAmIHN0cmluZz4obmFtZTogRXh0cmFjdE1lc3NhZ2VLZXk8VCwgaz4sIGNiOiAoLi4uYXJnczogU2VuZEZ1bmN0aW9uUGFyYW1ldGVyczxULCBrPikgPT4gdm9pZCkgPT4gdm9pZDtcblxuICBpbnRlcmZhY2UgTWVzc2FnZVNlcnZpY2Uge1xuICAgIEluc3RhbmNlOiB7XG4gICAgICBhc2s6IEFza0Z1bmN0aW9uLC8vPFQgZXh0ZW5kcyBrZXlvZiBBc2tNZXNzYWdlVHlwZXMgJiBzdHJpbmc+KG5hbWU6IFQsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8QXNrTWVzc2FnZVR5cGVzW1RdPikgPT4gUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8QXNrTWVzc2FnZVR5cGVzW1RdPj4+O1xuICAgICAgcmVwbHk6IFJlcGx5RnVuY3Rpb24sXG4gICAgICBzZW5kOiBTZW5kRnVuY3Rpb24sXG4gICAgICBzdWJzY3JpYmU6IFN1YnNjcmliZUZ1bmN0aW9uLFxuICAgICAgb25jZTogT25jZUZ1bmN0aW9uXG4gICAgICB1bnN1YnNjcmliZTogVW5zdWJzcmliZUZ1bmN0aW9uXG4gICAgfTtcbiAgfVxufVxuXG5cbmNvbnN0IGFza1JlcGx5Q2hhbm5lbHMgPSBuZXcgTWFwPHN0cmluZywgTWVzc2FnZUNoYW5uZWw+KCk7XG5jb25zdCBzZW5kU3Vic2NyaWJlQ2hhbm5lbHMgPSBuZXcgTWFwPHN0cmluZywgTWVzc2FnZUNoYW5uZWw+KCk7XG5jb25zdCBzZW5kU3Vic2NyaWJlQ2FsbGJhY2tzID0gbmV3IE1hcDxGdW5jdGlvbiwgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KCk7XG5cbi8vIGNvbnN0IGFzazogQXNrRnVuY3Rpb24gPSA8VCBleHRlbmRzIGtleW9mIEFza01lc3NhZ2VUeXBlcyAmIHN0cmluZz4obmFtZTogVCwgLi4uYXJnczogUGFyYW1ldGVyczxBc2tNZXNzYWdlVHlwZXNbVF0+KTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8QXNrTWVzc2FnZVR5cGVzW1RdPj4+ID0+IHtcbi8vQHRzLWV4cGVjdC1lcnJvclxuY29uc3QgYXNrOiBNZXNzYWdlU2VydmljZS5Bc2tGdW5jdGlvbiA9IChuYW1lLCAuLi5hcmdzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVqZWN0KFwidGltZW91dCBmb3IgbWVzc2FnZSBcIiArIG5hbWUpO1xuICAgIH0sIDMwMDAwKTtcbiAgICBsZXQgYXNrUG9ydCA9IGFza1JlcGx5Q2hhbm5lbHMuZ2V0KG5hbWUpPy5wb3J0MVxuICAgIGlmICghYXNrUG9ydCkge1xuICAgICAgY29uc3QgYyA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgYXNrUmVwbHlDaGFubmVscy5zZXQobmFtZSwgYyk7XG4gICAgICBhc2tQb3J0ID0gYy5wb3J0MVxuICAgIH1cbiAgICBsZXQgcmVwbHlDaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgY29uc3QgbCA9IChldnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgcmVzb2x2ZShldnQuZGF0YSk7XG4gICAgICByZXBseUNoYW5uZWwgPSBudWxsITtcbiAgICB9XG4gICAgcmVwbHlDaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGw7XG4gICAgYXNrUG9ydC5wb3N0TWVzc2FnZShhcmdzLCBbcmVwbHlDaGFubmVsLnBvcnQyXSk7XG4gIH0pO1xufVxuXG4vLyBjb25zdCByZXBseSA9IDxUIGV4dGVuZHMga2V5b2YgQXNrTWVzc2FnZVR5cGVzICYgc3RyaW5nPihuYW1lOiBULCBjYjogQXNrTWVzc2FnZVR5cGVzW1RdLCBvcHRzOiB7IGZvcmNlOiBib29sZWFuIH0gPSB7IGZvcmNlOiBmYWxzZSB9KSA9PiB7XG5jb25zdCByZXBseTogTWVzc2FnZVNlcnZpY2UuUmVwbHlGdW5jdGlvbiA9IChuYW1lLCBjYiwgb3B0cyA9IHsgZm9yY2U6IGZhbHNlIH0pID0+IHtcbiAgaWYgKHR5cGVvZiBjYiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBcInJlcGx5IGNhbGxiYWNrIGZvciBtZXNzYWdlIFwiICsgbmFtZSArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCI7XG4gIGxldCBhc2tpbmdQb3J0ID0gYXNrUmVwbHlDaGFubmVscy5nZXQobmFtZSk/LnBvcnQyXG4gIGlmICghYXNraW5nUG9ydCkge1xuICAgIGNvbnN0IGMgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBhc2tSZXBseUNoYW5uZWxzLnNldChuYW1lLCBjKTtcbiAgICBhc2tpbmdQb3J0ID0gYy5wb3J0MlxuICB9XG4gIGlmICghb3B0cy5mb3JjZSAmJiBhc2tpbmdQb3J0Lm9ubWVzc2FnZSkgdGhyb3cgXCJyZXBseSBhbHJlYWR5IHNldCBmb3IgbWVzc2FnZSBcIiArIG5hbWVcbiAgY29uc3QgbCA9IGFzeW5jIChldnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHJlcGx5UG9ydCA9IGV2dC5wb3J0c1swXVxuICAgIGNvbnN0IHIgPSBhd2FpdCBjYiguLi5ldnQuZGF0YSk7XG4gICAgcmVwbHlQb3J0LnBvc3RNZXNzYWdlKHIpO1xuICAgIHJlcGx5UG9ydC5jbG9zZSgpO1xuICB9XG4gIGFza2luZ1BvcnQub25tZXNzYWdlID0gbDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBhc2tpbmdQb3J0IS5vbm1lc3NhZ2UgPSBudWxsITtcbiAgfVxufVxuXG4vLyBjb25zdCBzZW5kID0gPFQgZXh0ZW5kcyBrZXlvZiBTdWJzY3JpcHRpb25NZXNzYWdlVHlwZXMgJiBzdHJpbmc+KG5hbWU6IFQsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8U3Vic2NyaXB0aW9uTWVzc2FnZVR5cGVzW1RdPikgPT4ge1xuY29uc3Qgc2VuZDogTWVzc2FnZVNlcnZpY2UuU2VuZEZ1bmN0aW9uID0gKG5hbWUsIC4uLmFyZ3MpID0+IHtcbiAgbGV0IHBvcnQgPSBzZW5kU3Vic2NyaWJlQ2hhbm5lbHMuZ2V0KG5hbWUpPy5wb3J0MVxuICBpZiAoIXBvcnQpIHtcbiAgICBjb25zdCBjID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgc2VuZFN1YnNjcmliZUNoYW5uZWxzLnNldChuYW1lLCBjKTtcbiAgICBwb3J0ID0gYy5wb3J0MVxuICB9XG4gIHBvcnQucG9zdE1lc3NhZ2UoYXJncyk7XG59XG5cbmNvbnN0IHN1YnNjcmliZTogTWVzc2FnZVNlcnZpY2UuU3Vic2NyaWJlRnVuY3Rpb24gPSAobmFtZTogc3RyaW5nLCBjYjogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpID0+IHtcbiAgaWYgKHR5cGVvZiBjYiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBcInJlcGx5IGNhbGxiYWNrIGZvciBtZXNzYWdlIFwiICsgbmFtZSArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCI7XG4gIGxldCBwb3J0ID0gc2VuZFN1YnNjcmliZUNoYW5uZWxzLmdldChuYW1lKT8ucG9ydDJcbiAgaWYgKCFwb3J0KSB7XG4gICAgY29uc3QgYyA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHNlbmRTdWJzY3JpYmVDaGFubmVscy5zZXQobmFtZSwgYyk7XG4gICAgcG9ydCA9IGMucG9ydDJcbiAgfVxuICBjb25zdCBsID0gKGV2dDogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgY2IoLi4uZXZ0LmRhdGEpO1xuICB9XG4gIHNlbmRTdWJzY3JpYmVDYWxsYmFja3Muc2V0KGNiLCBsKTtcbiAgcG9ydC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBsKTtcbiAgcG9ydC5zdGFydCgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHBvcnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGwpO1xuICAgIHNlbmRTdWJzY3JpYmVDYWxsYmFja3MuZGVsZXRlKGNiKTtcbiAgfVxufVxuXG4vLyBjb25zdCBvbmNlID0gPFQgZXh0ZW5kcyBrZXlvZiBTdWJzY3JpcHRpb25NZXNzYWdlVHlwZXMgJiBzdHJpbmc+KG5hbWU6IFQsIGNiOiBTdWJzY3JpcHRpb25NZXNzYWdlVHlwZXNbVF0pID0+IHtcbmNvbnN0IG9uY2U6IE1lc3NhZ2VTZXJ2aWNlLk9uY2VGdW5jdGlvbiA9IChuYW1lLCBjYikgPT4ge1xuICBpZiAodHlwZW9mIGNiICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IFwicmVwbHkgY2FsbGJhY2sgZm9yIG1lc3NhZ2UgXCIgKyBuYW1lICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIjtcbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUobmFtZSwgKC4uLmFyZ3MpID0+IHtcbiAgICBjYiguLi5hcmdzKTtcbiAgICB1bnN1YnNjcmliZSgpO1xuICB9KTtcbn1cblxuY29uc3QgdW5zdWJzY3JpYmU6IE1lc3NhZ2VTZXJ2aWNlLlVuc3Vic3JpYmVGdW5jdGlvbiA9IChuYW1lOiBzdHJpbmcsIGNiKSA9PiB7XG4gIGxldCBwb3J0ID0gc2VuZFN1YnNjcmliZUNoYW5uZWxzLmdldChuYW1lKT8ucG9ydDJcbiAgaWYgKCFwb3J0KSByZXR1cm47XG4gIGNvbnN0IGwgPSBzZW5kU3Vic2NyaWJlQ2FsbGJhY2tzLmdldChjYik7XG4gIGlmIChsKSB7XG4gICAgcG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBsKTtcbiAgICBzZW5kU3Vic2NyaWJlQ2FsbGJhY2tzLmRlbGV0ZShjYik7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgYXNrLFxuICByZXBseSxcbiAgc2VuZCxcbiAgc3Vic2NyaWJlLFxuICBvbmNlLFxuICB1bnN1YnNjcmliZVxufVxuXG5leHBvcnQgY29uc3QgTWVzc2FnZVNlcnZpY2U6IE1lc3NhZ2VTZXJ2aWNlLk1lc3NhZ2VTZXJ2aWNlID0ge1xuICBJbnN0YW5jZToge1xuICAgIGFzayxcbiAgICByZXBseSxcbiAgICBzZW5kLFxuICAgIHN1YnNjcmliZSxcbiAgICBvbmNlLFxuICAgIHVuc3Vic2NyaWJlXG4gIH1cbn0iLCJpbXBvcnQgeyBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSBcInZ1ZVwiO1xyXG5pbXBvcnQgeyBDb21tb25SZWdpc3RyeSB9IGZyb20gXCIuLi9oZWxwZXJzL0NvbW1vblJlZ2lzdHJ5XCI7XHJcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XHJcbiAgbmFtZTogXCJpbmplY3RcIixcclxuICBwcm9wczoge1xyXG4gICAgaWQ6IHsgZGVmYXVsdDogbnVsbCB9LFxyXG4gICAgdHlwZTogeyBkZWZhdWx0OiBudWxsLCB0eXBlOiBTdHJpbmcgfSxcclxuICAgIHZhbHVlOiB7IGRlZmF1bHQ6IG51bGwgfSxcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sXHJcbiAgICBuYW1lczogeyB0eXBlOiBBcnJheTxzdHJpbmc+LCBkZWZhdWx0OiBudWxsIH0sXHJcbiAgICBncm91cDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfSxcclxuICAgIG1ldGFkYXRhOiB7IHR5cGU6IE9iamVjdCwgZGVmYXVsdDogbnVsbCB9LFxyXG4gICAgZGlzYWJsZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIHJlYWRvbmx5OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH1cclxuICB9LFxyXG4gIHNldHVwKHByb3BzLCB7IGVtaXQgfSkge1xyXG5cclxuICAgIGNvbnN0IFZhbHVlID0gY29tcHV0ZWQoe1xyXG4gICAgICBnZXQ6ICgpID0+IHsgcmV0dXJuIHByb3BzLnZhbHVlIH0sXHJcbiAgICAgIHNldDogKHYpID0+IHsgZW1pdChcImlucHV0XCIsIHYpOyB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IENvbXBvbmVudHMgPSBjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgIGlmIChwcm9wcy5uYW1lKVxyXG4gICAgICAgIHJldHVybiBbQ29tbW9uUmVnaXN0cnkuSW5zdGFuY2UuZ2V0Q29tcG9uZW50KHByb3BzLm5hbWUsIHByb3BzLmdyb3VwKV07XHJcbiAgICAgIGlmIChwcm9wcy5ncm91cClcclxuICAgICAgICByZXR1cm4gQ29tbW9uUmVnaXN0cnkuSW5zdGFuY2UuZ2V0R3JvdXBDb21wb25lbnRzKHByb3BzLmdyb3VwLCAuLi4ocHJvcHMubmFtZXMgfHwgW10pKTtcclxuICAgICAgcmV0dXJuIENvbW1vblJlZ2lzdHJ5Lkluc3RhbmNlLmdldENvbXBvbmVudHMoLi4uKHByb3BzLm5hbWVzIHx8IFtdKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjbGljayA9ICguLi5hcmdzOiBhbnlbXSkgPT4geyBlbWl0KCdjbGljaycsIC4uLmFyZ3MpIH1cclxuICAgIGNvbnN0IHNhdmUgPSAoLi4uYXJnczogYW55W10pID0+IHsgZW1pdCgnc2F2ZScsIC4uLmFyZ3MpIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogcHJvcHMuaWQsXHJcbiAgICAgIHR5cGU6IHByb3BzLnR5cGUsXHJcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcclxuICAgICAgbmFtZTogcHJvcHMubmFtZSxcclxuICAgICAgbmFtZXM6IHByb3BzLm5hbWVzLFxyXG4gICAgICBncm91cDogcHJvcHMuZ3JvdXAsXHJcbiAgICAgIG1ldGFkYXRhOiBwcm9wcy5tZXRhZGF0YSxcclxuICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxyXG4gICAgICByZWFkb25seTogcHJvcHMucmVhZG9ubHksXHJcbiAgICAgIGNsaWNrLFxyXG4gICAgICBzYXZlLFxyXG4gICAgICBDb21wb25lbnRzLFxyXG4gICAgICBWYWx1ZSxcclxuICAgIH1cclxuICB9XHJcblxyXG59KTsiLCJcbmltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgfSBmcm9tIFwidnVlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb2plY3RhYmxlTW9kZWw8VD4ge1xuICBkYXRhOiBUOyByZXNvbHZlOiAoaXRlbTogVCkgPT4gdm9pZDsgcmVqZWN0OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgUHJvamVjdG9yIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2UgPSBuZXcgUHJvamVjdG9yKCk7XG4gIHN0YXRpYyBnZXQgSW5zdGFuY2UoKTogUHJvamVjdG9yIHsgcmV0dXJuIFByb2plY3Rvci5pbnN0YW5jZSB9XG4gIHN0YXRpYyBzZXQgSW5zdGFuY2UodjogUHJvamVjdG9yKSB7IHRoaXMuaW5zdGFuY2UgPSB2OyB9XG5cbiAgcHJpdmF0ZSBzY3JlZW5zID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcbiAgcHJpdmF0ZSBwcm9qZWN0aW5nID0gbmV3IE1hcDxzdHJpbmcsIHsgY29tcG9uZW50OiBDb21wb25lbnQsIG1vZGVsOiBJUHJvamVjdGFibGVNb2RlbDxhbnk+LCBwcm9taXNlOiBQcm9taXNlPGFueT4gfCBudWxsLCBxdWV1ZTogYm9vbGVhbiB9W10+KCk7XG5cbiAgc2V0U2NyZWVuKHNjcmVlbjogQ29tcG9uZW50UHVibGljSW5zdGFuY2UsIG5hbWU6IHN0cmluZyA9IFwiZGVmYXVsdHNjcmVlblwiKSB7XG4gICAgdGhpcy5zY3JlZW5zLnNldChuYW1lLCBzY3JlZW4pO1xuICB9XG5cblxuXG4gIHByb2plY3RUbzxUPihjb21wb25lbnQ6IENvbXBvbmVudCwgZGF0YTogVCB8IG51bGwgPSBudWxsLCBzY3JlZW46IHN0cmluZyA9IFwiZGVmYXVsdHNjcmVlblwiLCBxdWV1ZTogYm9vbGVhbiA9IHRydWUsIGFzeW5jOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPFQ+IHwgbnVsbCB7XG4gICAgY29uc3QgbW9kZWwgPSB7IGRhdGEgfSBhcyBJUHJvamVjdGFibGVNb2RlbDxUPjtcbiAgICBjb25zdCBwcm9taXNlID0gYXN5bmMgPyBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7IG1vZGVsLnJlamVjdCA9IHJlamVjdDsgbW9kZWwucmVzb2x2ZSA9IHJlc29sdmUgfSkgOiBudWxsO1xuXG4gICAgaWYgKCFxdWV1ZSkge1xuXG4gICAgICB0aGlzLnByb2plY3Rpbmcuc2V0KHNjcmVlbiwgW3sgY29tcG9uZW50LCBtb2RlbCwgcHJvbWlzZSwgcXVldWUgfV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMucHJvamVjdGluZy5oYXMoc2NyZWVuKSkge1xuICAgICAgICB0aGlzLnByb2plY3Rpbmcuc2V0KHNjcmVlbiwgW10pO1xuICAgICAgfVxuICAgICAgKHRoaXMucHJvamVjdGluZy5nZXQoc2NyZWVuKSB8fCBbXSkucHVzaCh7IGNvbXBvbmVudCwgbW9kZWwsIHByb21pc2UsIHF1ZXVlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHNzID0gdGhpcy5zY3JlZW5zLmdldChzY3JlZW4pO1xuICAgIGlmICghc3MpIHJldHVybiBudWxsO1xuICAgIHNzLm1vZGVsID0gbW9kZWw7XG4gICAgc3MuY3VycmVudFZpZXcgPSBjb21wb25lbnQ7XG5cbiAgICBpZiAocHJvbWlzZSkgcHJvbWlzZS50aGVuKCgpID0+IHRoaXMuc3RvcFByb2plY3Rpbmcoc2NyZWVuKSkuY2F0Y2goKCkgPT4gdGhpcy5zdG9wUHJvamVjdGluZyhzY3JlZW4pKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHByb2plY3RBc3luY1RvPFQ+KGNvbXBvbmVudDogQ29tcG9uZW50LCBkYXRhOiBULCBzY3JlZW46IHN0cmluZyA9IFwiZGVmYXVsdHNjcmVlblwiLCBxdWV1ZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9qZWN0VG8oY29tcG9uZW50LCBkYXRhLCBzY3JlZW4sIHF1ZXVlLCB0cnVlKVxuICB9XG5cbiAgc3RvcFByb2plY3Rpbmcoc2NyZWVuOiBzdHJpbmcgPSBcImRlZmF1bHRzY3JlZW5cIikge1xuICAgIGlmICh0aGlzLnByb2plY3RpbmcuaGFzKHNjcmVlbikpIHtcbiAgICAgICh0aGlzLnByb2plY3RpbmcuZ2V0KHNjcmVlbikgfHwgW10pLnBvcCgpXG4gICAgfVxuXG4gICAgbGV0IF9zY3JlZW4gPSB0aGlzLnNjcmVlbnMuZ2V0KHNjcmVlbilcbiAgICBpZiAoX3NjcmVlbiAmJiBfc2NyZWVuLmN1cnJlbnRWaWV3KSB7XG4gICAgICBfc2NyZWVuLm1vZGVsID0gbnVsbDtcbiAgICAgIF9zY3JlZW4uc2NyZWVuTW9kZWwgPSBudWxsO1xuICAgICAgX3NjcmVlbi5jdXJyZW50VmlldyA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLnByb2plY3RpbmcuaGFzKHNjcmVlbikpIHtcbiAgICAgICAgbGV0IHMgPSB0aGlzLnByb2plY3RpbmcuZ2V0KHNjcmVlbik7XG4gICAgICAgIGlmIChzICYmIHMubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IG0gPSBzLnBvcCgpO1xuICAgICAgICAgIGlmIChtKSB0aGlzLnByb2plY3RUbyhtLmNvbXBvbmVudCwgbS5tb2RlbCwgc2NyZWVuLCBtLnF1ZXVlLCAhIW0ucHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2plY3RhYmxlPFQ+IHtcbiAgdmFsdWU6IHtcbiAgICBkYXRhOiBULFxuICAgIHJlc29sdmU6IChpdGVtOiBUKSA9PiB2b2lkO1xuICAgIHJlamVjdDogKCkgPT4gdm9pZDtcbiAgfTtcbn0iLCJcbmltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50UHVibGljSW5zdGFuY2UsIGNvbXB1dGVkLCBkZWZpbmVDb21wb25lbnQsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25Nb3VudGVkLCBSZWYsIHJlZiwgd2F0Y2ggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBJUHJvamVjdGFibGVNb2RlbCwgUHJvamVjdG9yIH0gZnJvbSBcIi4uL2hlbHBlcnMvUHJvamVjdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwic2NyZWVuXCIsXG4gIHByb3BzOiB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiZGVmYXVsdHNjcmVlblwiIH0sXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IGV4cG9zZSB9KSB7XG5cbiAgICBjb25zdCBtZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuXG4gICAgY29uc3QgY3VycmVudFZpZXc6IFJlZjxDb21wb25lbnQ+ID0gcmVmKG51bGwhKTtcbiAgICBjb25zdCBtb2RlbDogUmVmPElQcm9qZWN0YWJsZU1vZGVsPGFueT4gfCBudWxsPiA9IHJlZihudWxsISk7XG5cbiAgICBleHBvc2UoeyBjdXJyZW50VmlldywgbW9kZWwgfSlcblxuICAgIGNvbnN0IGlzVmlzaWJsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBjdXJyZW50Vmlldy52YWx1ZSAhPSBudWxsO1xuICAgIH0pXG5cbiAgICBjb25zdCBjdXJyZW50Vmlld1VJRCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiAoY3VycmVudFZpZXcudmFsdWUgYXMgYW55KT8uX19maWxlXG4gICAgfSlcblxuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBQcm9qZWN0b3IuSW5zdGFuY2Uuc2V0U2NyZWVuKChtZSBhcyBhbnkpLnByb3h5LCBwcm9wcy5uYW1lKTtcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRWaWV3VUlELFxuICAgICAgY3VycmVudFZpZXcsXG4gICAgICBtb2RlbCxcbiAgICAgIGlzVmlzaWJsZVxuICAgIH1cbiAgfSxcblxufSlcbiIsImNvbnN0IHByb2plY3RUb0RpcmVjdGl2ZSA9IHtcblxuICBpbnNlcnRlZDogKGVsOiBFbGVtZW50LCBiaW5kOiBhbnkpID0+IHtcbiAgICBTY3JlZW5zTWFuYWdlci5JbnN0YW5jZS5pbmplY3RUbyhlbCwgYmluZC5hcmcpO1xuICB9LFxuICB1bmJpbmQ6IChlbDogRWxlbWVudCwgYmluZDogYW55KSA9PiB7XG4gICAgU2NyZWVuc01hbmFnZXIuSW5zdGFuY2UucmVtb3ZlRnJvbShlbCwgYmluZC5hcmcpXG4gIH1cbn1cblxuXG5jb25zdCBzY3JlZW5EaXJlY3RpdmUgPSB7XG4gIGJpbmQ6IChlbDogYW55LCBiaW5kaW5nOiBhbnkpID0+IHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgU2NyZWVuc01hbmFnZXIuSW5zdGFuY2Uuc2V0U2NyZWVuKGVsLCBiaW5kaW5nLmFyZyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBwcm9qZWN0VG9EaXJlY3RpdmUsIHNjcmVlbkRpcmVjdGl2ZVxufVxuXG5leHBvcnQgY2xhc3MgU2NyZWVuc01hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZSA9IG5ldyBTY3JlZW5zTWFuYWdlcigpO1xuICBzdGF0aWMgZ2V0IEluc3RhbmNlKCk6IFNjcmVlbnNNYW5hZ2VyIHsgcmV0dXJuIFNjcmVlbnNNYW5hZ2VyLmluc3RhbmNlIH1cbiAgc3RhdGljIHNldCBJbnN0YW5jZSh2OiBTY3JlZW5zTWFuYWdlcikgeyB0aGlzLmluc3RhbmNlID0gdjsgfVxuICBwcml2YXRlIHNjcmVlbnMgPSBuZXcgTWFwPHN0cmluZywgRWxlbWVudD4oKTtcbiAgXG5cbiAgaW5qZWN0VG8oZG9tRWxlbWVudDogRWxlbWVudCwgc2NyZWVuOiBzdHJpbmcpIHtcbiAgICBpZiAoIWRvbUVsZW1lbnQgfHwgIXNjcmVlbikgcmV0dXJuO1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy5zY3JlZW5zLmhhcyhzY3JlZW4pID8gdGhpcy5zY3JlZW5zLmdldChzY3JlZW4pIDogbnVsbDtcbiAgICB0cnkgeyBkb21FbGVtZW50LnBhcmVudEVsZW1lbnQgJiYgZG9tRWxlbWVudC5yZW1vdmVDaGlsZChkb21FbGVtZW50KTsgfSBjYXRjaCB7IH1cbiAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5hcHBlbmQoZG9tRWxlbWVudCk7XG4gIH1cblxuICByZW1vdmVGcm9tKGRvbUVsZW1lbnQ6IEVsZW1lbnQsIHNjcmVlbjogc3RyaW5nKSB7XG4gICAgaWYgKCFkb21FbGVtZW50IHx8ICFzY3JlZW4pIHJldHVybjtcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuc2NyZWVucy5oYXMoc2NyZWVuKSA/IHRoaXMuc2NyZWVucy5nZXQoc2NyZWVuKSA6IG51bGw7XG4gICAgdHJ5IHsgaWYgKGVsZW1lbnQpIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZG9tRWxlbWVudCkgfSBjYXRjaCB7IH1cbiAgfVxuXG4gIHNldFNjcmVlbihzY3JlZW46IEVsZW1lbnQsIG5hbWU6IHN0cmluZyA9IFwiZGVmYXVsdHNjcmVlblwiKSB7XG4gICAgdGhpcy5zY3JlZW5zLnNldChuYW1lLCBzY3JlZW4pO1xuICB9XG59IiwiZnVuY3Rpb24gY2hlY2tJbnB1dFZhbGlkYXRpb24oYTogRXZlbnQsIGNhbGxvdXQ6IChlcnJvcnM6IHN0cmluZ1tdLCB2YWxpZDogYm9vbGVhbikgPT4gdm9pZCkge1xuICBpZiAoKGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbGlkaXR5KSB7XG4gICAgbGV0IGVsID0gKGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpO1xuXG4gICAgaWYgKGVsLnZhbGlkaXR5KSB7XG4gICAgICBsZXQgZXJyb3JzID0gW1xuICAgICAgICBlbC52YWxpZGl0eS5iYWRJbnB1dCA/IFwiYmFkIGlucHV0XCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS5jdXN0b21FcnJvciA/IFwiY3VzdG9tIGVycm9yXCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2ggPyBcInBhdHRlcm4gbWlzbWF0Y2hcIiA6IG51bGwsXG4gICAgICAgIGVsLnZhbGlkaXR5LnJhbmdlT3ZlcmZsb3cgPyBcInJhbmdlIG92ZXJmbG93XCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS5yYW5nZVVuZGVyZmxvdyA/IFwicmFuZ2UgdW5kZXJmbG93XCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS5zdGVwTWlzbWF0Y2ggPyBcInN0ZXAgbWlzbWF0Y2hcIiA6IG51bGwsXG4gICAgICAgIGVsLnZhbGlkaXR5LnRvb0xvbmcgPyBcInRvbyBsb25nXCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS50b29TaG9ydCA/IFwidG9vIHNob3J0XCIgOiBudWxsLFxuICAgICAgICBlbC52YWxpZGl0eS50eXBlTWlzbWF0Y2ggPyBcInR5cGUgbWlzbWF0Y2hcIiA6IG51bGwsXG4gICAgICAgIGVsLnZhbGlkaXR5LnZhbHVlTWlzc2luZyA/IFwidmFsdWUgbWlzc2luZ1wiIDogbnVsbF0uZmlsdGVyKGkgPT4gISFpKVxuXG4gICAgICBjYWxsb3V0KGVycm9ycyBhcyBzdHJpbmdbXSwgZWwudmFsaWRpdHkudmFsaWQgIT0gdW5kZWZpbmVkID8gZWwudmFsaWRpdHkudmFsaWQgOiB0cnVlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlID0ge1xuICBpbnNlcnRlZDogKGVsOiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LCBiaW5kOiB7XG4gICAgdmFsdWU6IChlcnJvcnM6IHN0cmluZ1tdLCB2YWxpZDogYm9vbGVhbikgPT4gdm9pZCxcbiAgICBhcmc6IFwiaW1tZWRpYXRlXCJcbiAgfSkgPT4ge1xuICAgIGlmICghZWwgfHwgIWVsLndpbGxWYWxpZGF0ZSkgcmV0dXJuO1xuICAgIHN3aXRjaCAoZWwubm9kZU5hbWUpIHtcbiAgICAgIGNhc2UgXCJJTlBVVFwiOlxuICAgICAgY2FzZSBcIlRFWFRBUkVBXCI6IGVsLm9uYmx1ciA9IChhcmcpID0+IGNoZWNrSW5wdXRWYWxpZGF0aW9uKGFyZywgYmluZC52YWx1ZSk7IGJyZWFrO1xuICAgICAgY2FzZSBcIlNFTEVDVFwiOiBlbC5vbmNoYW5nZSA9IChhcmcpID0+IGNoZWNrSW5wdXRWYWxpZGF0aW9uKGFyZywgYmluZC52YWx1ZSk7IGJyZWFrO1xuICAgIH1cblxuICAgIGVsLm9uaW52YWxpZCA9IChhcmcpID0+IGNoZWNrSW5wdXRWYWxpZGF0aW9uKGFyZywgYmluZC52YWx1ZSk7XG4gICAgaWYgKGVsLmZvcm0pIGVsLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignaW52YWxpZCcsICgpID0+IGNoZWNrSW5wdXRWYWxpZGF0aW9uKHsgdGFyZ2V0OiBlbCB9IGFzIGFueSwgYmluZC52YWx1ZSkpXG5cbiAgICBpZiAoYmluZC5hcmcgPT0gXCJpbW1lZGlhdGVcIikgZWwucmVwb3J0VmFsaWRpdHkoKTtcbiAgICBlbHNlIGNoZWNrSW5wdXRWYWxpZGF0aW9uKHsgdGFyZ2V0OiBlbCB9IGFzIGFueSwgYmluZC52YWx1ZSlcbiAgfSxcbiAgdW5iaW5kOiAoZWw6IEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWVsKSByZXR1cm47XG5cbiAgfSxcbn1cbiIsImltcG9ydCB7IE1lbnVIZWxwZXIsIG1lbnVUeXBlLCBNZW51Tm90aWZpY2F0aW9ucywgSU1lbnVEZWZpbml0aW9uIH0gZnJvbSBcIi4vaGVscGVycy9NZW51SGVscGVyXCI7XG5pbXBvcnQgeyBDb21tb25SZWdpc3RyeSB9IGZyb20gXCIuL2hlbHBlcnMvQ29tbW9uUmVnaXN0cnlcIjtcbmltcG9ydCB7IE1lc3NhZ2VTZXJ2aWNlIH0gZnJvbSBcIi4vaGVscGVycy9NZXNzYWdlU2VydmljZVwiO1xuaW1wb3J0IHsgSVJvdXRlQ29uZmlnIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9Sb3V0ZXJJbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBJU3RvcmUgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL1N0b3JlSW50ZXJmYWNlc1wiO1xuaW1wb3J0IEluamVjdCBmcm9tIFwiLi9jb21wb25lbnRzL2luamVjdC52dWVcIjtcbmltcG9ydCBTY3JlZW4gZnJvbSBcIi4vY29tcG9uZW50cy9zY3JlZW4udnVlXCI7XG5pbXBvcnQgeyBWdWVDb25zdHJ1Y3RvciB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IElQcm9qZWN0YWJsZU1vZGVsLCBQcm9qZWN0YWJsZSwgUHJvamVjdG9yIH0gZnJvbSBcIi4vaGVscGVycy9Qcm9qZWN0b3JcIjtcbmltcG9ydCBkaXJlY3RpdmVzLCB7IFNjcmVlbnNNYW5hZ2VyIH0gZnJvbSBcIi4vZGlyZWN0aXZlcy9zY3JlZW5cIjtcbmltcG9ydCB7IHZhbGlkYXRlIGFzIFZhbGlkYXRlRGlyZWN0aXZlIH0gZnJvbSBcIi4vZGlyZWN0aXZlcy92YWxpZGF0ZVwiO1xuXG5cbmZ1bmN0aW9uIGluc3RhbGwoVnVlOiBWdWVDb25zdHJ1Y3Rvcikge1xuICBWdWUuY29tcG9uZW50KFwic2NyZWVuXCIsIFNjcmVlbik7XG4gIFZ1ZS5jb21wb25lbnQoXCJpbmplY3RcIiwgSW5qZWN0KTtcbiAgVnVlLmRpcmVjdGl2ZShcInNjcmVlblwiLCBkaXJlY3RpdmVzLnNjcmVlbkRpcmVjdGl2ZSk7XG4gIFZ1ZS5kaXJlY3RpdmUoXCJwcm9qZWN0VG9cIiwgZGlyZWN0aXZlcy5wcm9qZWN0VG9EaXJlY3RpdmUpO1xuICBWdWUuZGlyZWN0aXZlKFwidmFsaWRhdGVcIiwgVmFsaWRhdGVEaXJlY3RpdmUgYXMgYW55KTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIElNb2R1bGVJbml0aWFsaXplciB7XG4gIGluaXQodnVlbWY6IHR5cGVvZiBWdWVNZk1vZHVsZSwgbWVudTogTWVudUhlbHBlciwgc3RvcmU6IElTdG9yZSwgY29uZmlndXJhdGlvbjogYW55KTogUHJvbWlzZTx2b2lkPixcblxuICBjb25maWc/KG1lbnU6IE1lbnVIZWxwZXIsIHN0b3JlOiBJU3RvcmUsIGNvbmZpZ3VyYXRpb246IGFueSk6IFByb21pc2U8dm9pZD4sXG5cbiAgcnVuPyhtZW51OiBNZW51SGVscGVyLCBzdG9yZTogSVN0b3JlLCBjb25maWd1cmF0aW9uOiBhbnkpOiBQcm9taXNlPHZvaWQ+LFxuXG4gIHJvdXRlczogSVJvdXRlQ29uZmlnW11cbn1cblxuaW50ZXJmYWNlIElNb2R1bGVJbml0aWFsaXplcldyYXBwZXIge1xuICBpbml0KG1lbnU6IE1lbnVIZWxwZXIsXG4gICAgc3RvcmU6IElTdG9yZSxcbiAgICBjb25maWd1cmF0aW9uOiBhbnlcbiAgICAsIG9wdGlvbnM6IHtcbiAgICAgIHJlZ2lzdHJ5OiBDb21tb25SZWdpc3RyeSxcbiAgICAgIG1lc3NhZ2VTZXJ2aWNlOiB0eXBlb2YgTWVzc2FnZVNlcnZpY2UuSW5zdGFuY2UsXG4gICAgICBwcm9qZWN0b3I6IFByb2plY3RvcixcbiAgICAgIHNjcmVlbnM6IFNjcmVlbnNNYW5hZ2VyXG4gICAgfSk6IFByb21pc2U8dm9pZD4sXG4gIGNvbmZpZyhtZW51OiBNZW51SGVscGVyLFxuICAgIHN0b3JlOiBJU3RvcmUpOiBQcm9taXNlPHZvaWQ+LFxuICBydW4obWVudTogTWVudUhlbHBlcixcbiAgICBzdG9yZTogSVN0b3JlKTogUHJvbWlzZTx2b2lkPixcbiAgcm91dGVzOiBJUm91dGVDb25maWdbXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kdWxlSW5pdGlhbGl6ZXIob3B0czogSU1vZHVsZUluaXRpYWxpemVyKSB7XG4gIGxldCBtb2R1bGVDb25maWcgPSB7fTtcbiAgcmV0dXJuIHtcbiAgICBpbml0KG1lbnU6IE1lbnVIZWxwZXIsIHN0b3JlOiBJU3RvcmUsIGNvbmZpZ3VyYXRpb246IGFueSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcmVnaXN0cnk6IENvbW1vblJlZ2lzdHJ5LFxuICAgICAgICBtZXNzYWdlU2VydmljZTogdHlwZW9mIE1lc3NhZ2VTZXJ2aWNlLkluc3RhbmNlLFxuICAgICAgICBwcm9qZWN0b3I6IFByb2plY3RvcixcbiAgICAgICAgc2NyZWVuczogU2NyZWVuc01hbmFnZXJcbiAgICAgIH0pIHtcblxuICAgICAgaWYgKG9wdGlvbnMucmVnaXN0cnkpIENvbW1vblJlZ2lzdHJ5Lkluc3RhbmNlID0gb3B0aW9ucy5yZWdpc3RyeTtcbiAgICAgIGlmIChvcHRpb25zLm1lc3NhZ2VTZXJ2aWNlKSBNZXNzYWdlU2VydmljZS5JbnN0YW5jZSA9IG9wdGlvbnMubWVzc2FnZVNlcnZpY2VcbiAgICAgIGlmIChvcHRpb25zLnByb2plY3RvcikgUHJvamVjdG9yLkluc3RhbmNlID0gb3B0aW9ucy5wcm9qZWN0b3I7XG4gICAgICBpZiAob3B0aW9ucy5zY3JlZW5zKSBTY3JlZW5zTWFuYWdlci5JbnN0YW5jZSA9IG9wdGlvbnMuc2NyZWVucztcbiAgICAgIG1vZHVsZUNvbmZpZyA9IGNvbmZpZ3VyYXRpb247XG4gICAgICByZXR1cm4gb3B0cy5pbml0KFZ1ZU1mTW9kdWxlLCBtZW51LCBzdG9yZSwgY29uZmlndXJhdGlvbik7XG4gICAgfSxcbiAgICBjb25maWcobWVudTogTWVudUhlbHBlciwgc3RvcmU6IElTdG9yZSkge1xuICAgICAgcmV0dXJuIG9wdHMuY29uZmlnID8gb3B0cy5jb25maWcobWVudSwgc3RvcmUsIG1vZHVsZUNvbmZpZykgOiBudWxsO1xuICAgIH0sXG4gICAgcnVuKG1lbnU6IE1lbnVIZWxwZXIsIHN0b3JlOiBJU3RvcmUpIHtcbiAgICAgIHJldHVybiBvcHRzLnJ1biA/IG9wdHMucnVuKG1lbnUsIHN0b3JlLCBtb2R1bGVDb25maWcpIDogbnVsbDtcbiAgICB9LFxuICAgIHJvdXRlczogb3B0cy5yb3V0ZXNcbiAgfSBhcyBJTW9kdWxlSW5pdGlhbGl6ZXJXcmFwcGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbml0TW9kdWxlKG1vZHVsZTogYW55LCBzdG9yZTogSVN0b3JlLCBjb25maWd1cmF0aW9uOiBhbnkgfCB1bmRlZmluZWQpOiBQcm9taXNlPElNb2R1bGVJbml0aWFsaXplcj4ge1xuICBjb25zdCBpbml0b2JqID0gKG1vZHVsZS5kZWZhdWx0LmRlZmF1bHQgfHwgbW9kdWxlLmRlZmF1bHQpIGFzIElNb2R1bGVJbml0aWFsaXplcldyYXBwZXI7XG4gIHJldHVybiBpbml0b2JqLmluaXQoTWVudUhlbHBlci5JbnN0YW5jZSwgc3RvcmUsIGNvbmZpZ3VyYXRpb24gfHwge30sXG4gICAge1xuICAgICAgcmVnaXN0cnk6IENvbW1vblJlZ2lzdHJ5Lkluc3RhbmNlLFxuICAgICAgbWVzc2FnZVNlcnZpY2U6IE1lc3NhZ2VTZXJ2aWNlLkluc3RhbmNlLFxuICAgICAgcHJvamVjdG9yOiBQcm9qZWN0b3IuSW5zdGFuY2UsXG4gICAgICBzY3JlZW5zOiBTY3JlZW5zTWFuYWdlci5JbnN0YW5jZVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIGluaXRvYmogYXMgdW5rbm93biBhcyBJTW9kdWxlSW5pdGlhbGl6ZXI7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb25maWdNb2R1bGUobW9kdWxlOiBhbnksIHN0b3JlOiBJU3RvcmUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgaW5pdG9iaiA9IChtb2R1bGUuZGVmYXVsdC5kZWZhdWx0IHx8IG1vZHVsZS5kZWZhdWx0KSBhcyBJTW9kdWxlSW5pdGlhbGl6ZXJXcmFwcGVyO1xuICByZXR1cm4gaW5pdG9iai5jb25maWcoTWVudUhlbHBlci5JbnN0YW5jZSwgc3RvcmUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBSdW5Nb2R1bGUobW9kdWxlOiBhbnksIHN0b3JlOiBJU3RvcmUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgaW5pdG9iaiA9IChtb2R1bGUuZGVmYXVsdC5kZWZhdWx0IHx8IG1vZHVsZS5kZWZhdWx0KSBhcyBJTW9kdWxlSW5pdGlhbGl6ZXJXcmFwcGVyO1xuICByZXR1cm4gaW5pdG9iai5ydW4oTWVudUhlbHBlci5JbnN0YW5jZSwgc3RvcmUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kdWxlUm91dGVzKG1vZHVsZTogYW55KTogSVJvdXRlQ29uZmlnW10ge1xuICBjb25zdCBpbml0b2JqID0gKG1vZHVsZS5kZWZhdWx0LmRlZmF1bHQgfHwgbW9kdWxlLmRlZmF1bHQpIGFzIElNb2R1bGVJbml0aWFsaXplcldyYXBwZXI7XG4gIHJldHVybiBpbml0b2JqLnJvdXRlcztcbn1cblxuZXhwb3J0IHtcbiAgTWVudUhlbHBlcixcbiAgdHlwZSBJTWVudURlZmluaXRpb24sXG4gIG1lbnVUeXBlLFxuICBDb21tb25SZWdpc3RyeSxcbiAgTWVzc2FnZVNlcnZpY2UgYXMgTWVzc2FnZVNlcnZpY2UsXG4gIEluamVjdCxcbiAgU2NyZWVuLFxuICBWYWxpZGF0ZURpcmVjdGl2ZSxcbiAgdHlwZSBQcm9qZWN0YWJsZSxcbiAgdHlwZSBJUHJvamVjdGFibGVNb2RlbCxcbiAgTWVudU5vdGlmaWNhdGlvbnMsXG4gIFByb2plY3Rvcixcbn1cblxuY29uc3QgVnVlTWZNb2R1bGUgPSB7XG4gIGluc3RhbGwsXG4gIE1lbnVIZWxwZXI6IG5ldyBNZW51SGVscGVyKCksXG4gIG1lbnVUeXBlLFxuICBDb21tb25SZWdpc3RyeTogbmV3IENvbW1vblJlZ2lzdHJ5KCksXG4gIE1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSxcbiAgSW5qZWN0LFxuICBTY3JlZW4sXG4gIFZhbGlkYXRlRGlyZWN0aXZlLFxuICBNZW51Tm90aWZpY2F0aW9ucyxcbiAgUHJvamVjdG9yXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZU1mTW9kdWxlO1xuIl0sIm5hbWVzIjpbIkUiLCJuYW1lIiwiY2FsbGJhY2siLCJjdHgiLCJlIiwic2VsZiIsImxpc3RlbmVyIiwiZGF0YSIsImV2dEFyciIsImkiLCJsZW4iLCJldnRzIiwibGl2ZUV2ZW50cyIsInRpbnlFbWl0dGVyTW9kdWxlIiwiVGlueUVtaXR0ZXIiLCJ0aW55RW1pdHRlciIsIm1lbnVUeXBlIiwibWVudVR5cGUyIiwiTWVudU5vdGlmaWNhdGlvbnMiLCJfTWVudUhlbHBlciIsIl9fcHVibGljRmllbGQiLCJtZW51RGVmaW5pdGlvbiIsInBvc2l0aW9ucyIsImZvdW5kIiwibSIsImVsZW1lbnQiLCJtZW51IiwicmVzdWx0IiwidXNlZCIsImtleSIsInJyIiwiYiIsImEiLCJNZW51SGVscGVyIiwiX0NvbW1vblJlZ2lzdHJ5IiwidiIsImNvbXBvbmVudCIsImdyb3VwIiwiZ2ciLCJnIiwic2VydmljZSIsIkNvbW1vblJlZ2lzdHJ5IiwiYXNrUmVwbHlDaGFubmVscyIsInNlbmRTdWJzY3JpYmVDaGFubmVscyIsInNlbmRTdWJzY3JpYmVDYWxsYmFja3MiLCJhc2siLCJhcmdzIiwicmVzb2x2ZSIsInJlamVjdCIsInRpbWVvdXQiLCJhc2tQb3J0IiwiX2EiLCJjIiwicmVwbHlDaGFubmVsIiwibCIsImV2dCIsInJlcGx5IiwiY2IiLCJvcHRzIiwiYXNraW5nUG9ydCIsInJlcGx5UG9ydCIsInIiLCJzZW5kIiwicG9ydCIsInN1YnNjcmliZSIsIk1lc3NhZ2VTZXJ2aWNlIiwidW5zdWJzY3JpYmUiLCJfc2ZjX21haW4kMSIsImRlZmluZUNvbXBvbmVudCIsInByb3BzIiwiZW1pdCIsIlZhbHVlIiwiY29tcHV0ZWQiLCJDb21wb25lbnRzIiwiY2xpY2siLCJzYXZlIiwiX1Byb2plY3RvciIsInNjcmVlbiIsInF1ZXVlIiwiYXN5bmMiLCJtb2RlbCIsInByb21pc2UiLCJzcyIsIl9zY3JlZW4iLCJzIiwiUHJvamVjdG9yIiwiX3NmY19tYWluIiwiZXhwb3NlIiwibWUiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJjdXJyZW50VmlldyIsInJlZiIsImlzVmlzaWJsZSIsImN1cnJlbnRWaWV3VUlEIiwib25Nb3VudGVkIiwiZGlyZWN0aXZlcyIsImVsIiwiYmluZCIsIlNjcmVlbnNNYW5hZ2VyIiwiYmluZGluZyIsIl9TY3JlZW5zTWFuYWdlciIsImRvbUVsZW1lbnQiLCJjaGVja0lucHV0VmFsaWRhdGlvbiIsImNhbGxvdXQiLCJlcnJvcnMiLCJ2YWxpZGF0ZSIsImFyZyIsImluc3RhbGwiLCJWdWUiLCJTY3JlZW4iLCJJbmplY3QiLCJWYWxpZGF0ZURpcmVjdGl2ZSIsIk1vZHVsZUluaXRpYWxpemVyIiwibW9kdWxlQ29uZmlnIiwic3RvcmUiLCJjb25maWd1cmF0aW9uIiwib3B0aW9ucyIsIlZ1ZU1mTW9kdWxlIiwiSW5pdE1vZHVsZSIsIm1vZHVsZSIsImluaXRvYmoiLCJDb25maWdNb2R1bGUiLCJSdW5Nb2R1bGUiLCJNb2R1bGVSb3V0ZXMiXSwibWFwcGluZ3MiOiIrYkFBQSxTQUFTQSxHQUFLLENBR2QsQ0FFQUEsRUFBRSxVQUFZLENBQ1osR0FBSSxTQUFVQyxFQUFNQyxFQUFVQyxFQUFLLENBQ2pDLElBQUlDLEVBQUksS0FBSyxJQUFNLEtBQUssRUFBSSxDQUFBLEdBRTVCLE9BQUNBLEVBQUVILEtBQVVHLEVBQUVILEdBQVEsQ0FBQSxJQUFLLEtBQUssQ0FDL0IsR0FBSUMsRUFDSixJQUFLQyxDQUNYLENBQUssRUFFTSxJQUNSLEVBRUQsS0FBTSxTQUFVRixFQUFNQyxFQUFVQyxFQUFLLENBQ25DLElBQUlFLEVBQU8sS0FDWCxTQUFTQyxHQUFZLENBQ25CRCxFQUFLLElBQUlKLEVBQU1LLENBQVEsRUFDdkJKLEVBQVMsTUFBTUMsRUFBSyxTQUFTLENBRW5DLENBQ0ksT0FBQUcsRUFBUyxFQUFJ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
